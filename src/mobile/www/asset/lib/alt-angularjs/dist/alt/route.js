alt.baseUrl="#!/",alt.routeFolder=alt.routeFolder||"route",alt.defaultRoute=alt.defaultRoute||"",alt.modules.route=angular.module("alt-route",["ngRoute"]).config(["$locationProvider","$compileProvider","$routeProvider",function(t,e,l){t.html5Mode(!1),t.hashPrefix("!");var o=/^\s*(https?|ftp|mailto|file|tel|app):|data:image|javascript:|\//;e.urlSanitizationWhitelist&&e.urlSanitizationWhitelist(o),alt.routing=function(){return{template:'<div id="templateView" data-ng-controller="controller" data-ng-include="view" data-on-ready="onready()"></div>',controller:null,resolve:{load:["$q","$route","$timeout","$log","$window","$rootScope",function(t,e,l,o,a,r){var n=r.onRouteChanged(e.current.params),i=t.defer(),u=e.current.params,c=angular.element(document.getElementsByTagName("body")[0]).scope();return n.then(function(){c.view=alt.routeFolder+"/"+(u.altmodule?u.altmodule+"/":"")+(u.altcontroller?u.altcontroller+"/":"")+(u.altaction?u.altaction+"/":"")+"view.html"+(""!=alt.urlArgs?"?"+alt.urlArgs:""),require([alt.routeFolder+"/"+(u.altmodule?u.altmodule+"/":"")+(u.altcontroller?u.altcontroller+"/":"")+(u.altaction?u.altaction+"/":"")+"controller"],function(t){var e=t[t.length-1];t[t.length-1]=function(){for(var l,o=this,a=arguments,r=0;r<t.length;r++)if("$scope"==t[r]){l=arguments[r];break}l&&(l.onready=function(){e.apply(o,a)})},c.controller=t,c.$apply(function(){i.resolve()})},function(t){i.reject(t)})},function(t){i.reject(t)}),i.promise}]}}},l.when("/",""!=alt.defaultRoute?{redirectTo:alt.defaultRoute}:alt.routing()),l.when("/:altaction",alt.routing()),l.when("/:altcontroller/:altaction",alt.routing()),l.when("/:altmodule/:altcontroller/:altaction",alt.routing()),l.otherwise({resolve:{redirectCheck:["$location",function(t){-1===t.absUrl().indexOf(alt.baseUrl)&&t.path("/")}]}})}]),alt.module("alt-route",alt.modules.route);